(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e9f4499"],{"05eb":function(e,t,o){"use strict";o.r(t);var r=o("fc6a");const a={class:"setting"};function c(e,t,o,c,n,l){const s=Object(r["resolveComponent"])("el-button"),i=Object(r["resolveComponent"])("el-header"),d=Object(r["resolveComponent"])("Flags"),b=Object(r["resolveComponent"])("el-tab-pane"),u=Object(r["resolveComponent"])("Protos"),p=Object(r["resolveComponent"])("el-tabs"),g=Object(r["resolveComponent"])("el-main"),f=Object(r["resolveComponent"])("el-container");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",a,[Object(r["createVNode"])(f,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(i,null,{default:Object(r["withCtx"])(()=>[Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])("当前地址: "+e.$store.state.backendAddr),1),Object(r["createElementVNode"])("p",null,[Object(r["createVNode"])(s,{type:"success",size:"small",onClick:l.callSetting},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])("设置")]),_:1},8,["onClick"])])]),_:1}),Object(r["createVNode"])(g,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(p,{type:"border-card",class:"cardsetting"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(b,{label:"flags"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(d,{serverEndpoint:e.$store.state.backendAddr},null,8,["serverEndpoint"])]),_:1}),Object(r["createVNode"])(b,{label:"protobufs"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(u,{serverEndpoint:e.$store.state.backendAddr},null,8,["serverEndpoint"])]),_:1})]),_:1})]),_:1})]),_:1})])}var n=o("8be6"),l=o.n(n);const s={slot:"header",class:"clearfix"},i={slot:"footer",class:"dialog-footer"},d={class:"block"};function b(e,t,o,a,c,n){const l=Object(r["resolveComponent"])("el-tag"),b=Object(r["resolveComponent"])("el-input"),u=Object(r["resolveComponent"])("el-button"),p=Object(r["resolveComponent"])("el-table-column"),g=Object(r["resolveComponent"])("el-dialog"),f=Object(r["resolveComponent"])("el-table"),O=Object(r["resolveComponent"])("el-pagination"),j=Object(r["resolveComponent"])("el-col"),h=Object(r["resolveComponent"])("el-row"),m=Object(r["resolveDirective"])("loading");return Object(r["openBlock"])(),Object(r["createBlock"])(h,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(j,{span:24},{default:Object(r["withCtx"])(()=>[Object(r["createElementVNode"])("div",s,[Object(r["createVNode"])(l,null,{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])("flags")]),_:1}),Object(r["createVNode"])(b,{type:"text",modelValue:c.queryFlags,"onUpdate:modelValue":t[0]||(t[0]=e=>c.queryFlags=e),modelModifiers:{lazy:!0,trim:!0},placeholder:"config name",clearable:""},null,8,["modelValue"]),Object(r["createVNode"])(u,{type:"success",onClick:t[1]||(t[1]=e=>n.configQueryProxy(o.serverEndpoint))},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])("查询")]),_:1}),Object(r["createElementVNode"])("p",null,"返回值 ： "+Object(r["toDisplayString"])(c.server.code),1),Object(r["createElementVNode"])("p",null,"返回信息： "+Object(r["toDisplayString"])(c.server.msg),1),Object(r["createElementVNode"])("p",null,"配置列表： "+Object(r["toDisplayString"])(c.total),1)]),Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createBlock"])(f,{stripe:"stripe",border:"border",onCellDblclick:n.copyText,data:c.flagsArray.slice((c.currentPage-1)*c.pagesize,c.currentPage*c.pagesize),style:{width:"100%"}},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(p,{prop:"name",label:"name"}),Object(r["createVNode"])(p,{prop:"default_value",label:"默认值"}),Object(r["createVNode"])(p,{prop:"current_value",label:"当前值"},{default:Object(r["withCtx"])(({row:e})=>[e.current_value===e.default_value?(Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:0},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.current_value),1)]),_:2},1024)):(Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:1,type:"success"},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.current_value),1)]),_:2},1024))]),_:1}),Object(r["createVNode"])(p,{prop:"help",label:"描述"}),Object(r["createVNode"])(p,{prop:"file",label:"文件"}),Object(r["createVNode"])(p,{label:"操作",width:"90"},{default:Object(r["withCtx"])(({row:e})=>[Object(r["createVNode"])(u,{type:"success",size:"mini",onClick:t=>n.enableDialog(e),disabled:!e.reset_able},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])("设置 ")]),_:2},1032,["onClick","disabled"]),Object(r["createVNode"])(g,{title:"提示","model-value":c.dialogVisible,width:"50%","before-close":n.handleClose},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(b,{modelValue:c.queryValue,"onUpdate:modelValue":t[2]||(t[2]=e=>c.queryValue=e),placeholder:"请输入新值"},null,8,["modelValue"]),Object(r["createElementVNode"])("span",i,[Object(r["createVNode"])(u,{onClick:t[3]||(t[3]=e=>c.dialogVisible=!1)},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])("取 消")]),_:1}),Object(r["createVNode"])(u,{type:"primary",onClick:n.handleReset},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])("确 定")]),_:1},8,["onClick"])])]),_:1},8,["model-value","before-close"])]),_:1})]),_:1},8,["onCellDblclick","data"])),[[m,c.loading]]),Object(r["createElementVNode"])("div",d,[Object(r["createVNode"])(O,{layout:"prev, pager, next",onCurrentChange:n.current_change,"page-size":c.pagesize,total:c.total},null,8,["onCurrentChange","page-size","total"])])]),_:1})]),_:1})}o("8825");var u=o("2615"),p=o("9cee"),g=o("6b76"),f={computed:{index(){return p["b"]}},data(){return{queryFlags:"",resetFlagsName:"",queryValue:"",currentPage:1,loading:!1,pagesize:5,dialogVisible:!1,total:0,flagsArray:[],server:{code:0,msg:"null"}}},props:{serverEndpoint:{type:String,required:!0}},methods:{enable:g["enable"],root(){return u["root"]},configQueryProxy(e){this.loading=!0,this.configList(e),this.loading=!1},configList(e){let t="http://"+e+"/eabi/melon/flags";""!==this.queryFlags&&(t+="?match="+this.queryFlags),l.a.post(t,{}).then(e=>{this.server.code=e.data.code,this.server.msg=e.data.message,"flags"in e.data?(this.flagsArray=e.data.flags,this.total=this.flagsArray.length):(this.flagsArray=[],this.total=0),0===this.server.code?this.$notify({message:"查询成功！"+this.server.msg,type:"success"}):this.$notify({message:"查询失败！"+this.server.msg,type:"warning"})}).catch(e=>{this.$notify({message:"连接失败！",type:"error"})})},handleReset(){l.a.post("http://"+this.serverEndpoint+"/eabi/melon/flags/reset",{name:this.resetFlagsName,value:this.queryValue}).then(e=>{if(this.server.code=e.data.code,this.server.msg=e.data.message,0===this.server.code){this.$notify({message:"重置成功！"+this.server.msg,type:"success"});for(let e=0;e<this.flagsArray.length;e++)this.flagsArray[e].name===this.resetFlagsName&&(this.flagsArray[e].current_value=this.queryValue)}else this.$notify({message:"重置失败！"+this.server.msg,type:"warning"})}).catch(e=>{this.$notify({message:"连接失败！",type:"error"})}),this.dialogVisible=!1},copyText(e,t,o,r){let a=function(e){e.clipboardData.setData("text/plain",r.target.innerText),e.preventDefault()};document.addEventListener("copy",a),document.execCommand("copy"),this.$notify({message:"恭喜你，复制成功！"+r.target.innerText,type:"success"})},current_change(e){this.currentPage=e},handleCancel(){return this.dialogVisible=!0},handleClose(e){this.$confirm("确认关闭？").then(t=>{e()}).catch(e=>{})},enableDialog(e){this.resetFlagsName=e.name,this.dialogVisible=!0}}},O=o("9de4"),j=o.n(O);const h=j()(f,[["render",b]]);var m=h;const v={slot:"header",class:"clearfix"},y={slot:"footer",class:"dialog-footer"},V={class:"block"};function C(e,t,o,a,c,n){const l=Object(r["resolveComponent"])("el-tag"),s=Object(r["resolveComponent"])("el-input"),i=Object(r["resolveComponent"])("el-button"),d=Object(r["resolveComponent"])("el-table-column"),b=Object(r["resolveComponent"])("el-dialog"),u=Object(r["resolveComponent"])("el-table"),p=Object(r["resolveComponent"])("el-pagination"),g=Object(r["resolveComponent"])("el-col"),f=Object(r["resolveComponent"])("el-row"),O=Object(r["resolveDirective"])("loading");return Object(r["openBlock"])(),Object(r["createBlock"])(f,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(g,{span:24},{default:Object(r["withCtx"])(()=>[Object(r["createElementVNode"])("div",v,[Object(r["createVNode"])(l,null,{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])("flags")]),_:1}),Object(r["createVNode"])(s,{type:"text",modelValue:c.queryProto,"onUpdate:modelValue":t[0]||(t[0]=e=>c.queryProto=e),modelModifiers:{lazy:!0,trim:!0},placeholder:"config name",clearable:""},null,8,["modelValue"]),Object(r["createVNode"])(i,{type:"success",onClick:t[1]||(t[1]=e=>n.protoList(o.serverEndpoint))},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])("查询")]),_:1}),Object(r["createElementVNode"])("p",null,"返回值 ： "+Object(r["toDisplayString"])(c.server.code),1),Object(r["createElementVNode"])("p",null,"返回信息： "+Object(r["toDisplayString"])(c.server.msg),1),Object(r["createElementVNode"])("p",null,"配置列表： "+Object(r["toDisplayString"])(c.total),1)]),Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createBlock"])(u,{stripe:"stripe",border:"border",onCellDblclick:n.copyText,data:c.protoArray.slice((c.currentPage-1)*c.pagesize,c.currentPage*c.pagesize),style:{width:"100%"}},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(d,{prop:"proto",label:"proto"}),Object(r["createVNode"])(d,{label:"查看",width:"90"},{default:Object(r["withCtx"])(({row:e})=>[Object(r["createVNode"])(i,{type:"success",size:"mini",onClick:t=>n.enableDialog(e)},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])("查看 ")]),_:2},1032,["onClick"]),Object(r["createVNode"])(b,{title:"提示","model-value":c.dialogVisible,width:"50%","before-close":n.handleClose},{default:Object(r["withCtx"])(()=>[Object(r["createElementVNode"])("div",null,Object(r["toDisplayString"])(c.descValue),1),Object(r["createElementVNode"])("span",y,[Object(r["createVNode"])(i,{onClick:t[2]||(t[2]=e=>c.dialogVisible=!1)},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])("取 消")]),_:1}),Object(r["createVNode"])(i,{type:"primary",onClick:t[3]||(t[3]=e=>c.dialogVisible=!1)},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])("确 定")]),_:1})])]),_:1},8,["model-value","before-close"])]),_:1})]),_:1},8,["onCellDblclick","data"])),[[O,c.loading]]),Object(r["createElementVNode"])("div",V,[Object(r["createVNode"])(p,{layout:"prev, pager, next",onCurrentChange:n.current_change,"page-size":c.pagesize,total:c.total},null,8,["onCurrentChange","page-size","total"])])]),_:1})]),_:1})}var x={computed:{index(){return p["b"]}},data(){return{queryProto:"",descValue:"",currentPage:1,loading:!1,pagesize:5,dialogVisible:!1,total:0,protoArray:[],server:{code:0,msg:"null"}}},props:{serverEndpoint:{type:String,required:!0}},methods:{protoList(e){this.loading=!0;let t="http://"+e+"/eabi/melon/protobufs";""!==this.queryProto&&(t+="?match="+this.queryProto),l.a.post(t,{}).then(e=>{this.server.code=e.data.code,this.server.msg=e.data.message,"protobufs"in e.data?(this.protoArray=e.data.protobufs,this.total=this.protoArray.length):(this.protoArray=[],this.total=0),0===this.server.code?this.$notify({message:"查询成功！"+this.server.msg,type:"success"}):this.$notify({message:"查询失败！"+this.server.msg,type:"warning"})}).catch(e=>{this.$notify({message:"连接失败！",type:"error"})}),this.loading=!1},copyText(e,t,o,r){let a=function(e){e.clipboardData.setData("text/plain",r.target.innerText),e.preventDefault()};document.addEventListener("copy",a),document.execCommand("copy"),this.$notify({message:"恭喜你，复制成功！"+r.target.innerText,type:"success"})},current_change(e){this.currentPage=e},handleCancel(){return this.dialogVisible=!0},handleClose(e){this.$confirm("确认关闭？").then(t=>{e()}).catch(e=>{})},enableDialog(e){this.descValue=e.detail,this.dialogVisible=!0}}};const N=j()(x,[["render",C]]);var w=N,k={components:{Flags:m,Protos:w},data(){return{serverEndpoint:"localhost:8018",labelType:!0,testResult:"失败",buttonType:"danger"}},methods:{callSetting(){this.$emit("api",{event:"openApp",app:"system_setting"})}},created(){}};o("53f5");const _=j()(k,[["render",c],["__scopeId","data-v-24ad3352"]]);t["default"]=_},"16ae":function(e,t,o){"use strict";var r=o("b763");e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},"178c":function(e,t,o){"use strict";var r=o("b15a");e.exports=r([].slice)},"192c":function(e,t,o){"use strict";var r=o("188f"),a=o("d1cc");e.exports=function(e,t,o){return o.get&&r(o.get,t,{getter:!0}),o.set&&r(o.set,t,{setter:!0}),a.f(e,t,o)}},2615:function(e,t,o){e.exports={root:!0,env:{node:!0},extends:["plugin:vue/vue3-essential","eslint:recommended"],parserOptions:{parser:"babel-eslint"},rules:{"no-console":"warn","no-debugger":"warn","no-unused-vars":"off","vue/no-deprecated-slot-attribute":"off","vue/no-deprecated-v-bind-sync":"off"}}},"30c9":function(e,t,o){},"53f5":function(e,t,o){"use strict";o("30c9")},"6b76":function(e,t,o){"use strict";var r=o("64a0"),a=o("b15a"),c=o("0ccf"),n=o("e7ac"),l=o("35e4"),s=o("d1cc").f,i=o("e0a5"),d=o("e0e8"),b=o("cc5e"),u=o("6b4f"),p=o("9914"),g=!1,f=u("meta"),O=0,j=function(e){s(e,f,{value:{objectID:"O"+O++,weakData:{}}})},h=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!l(e,f)){if(!b(e))return"F";if(!t)return"E";j(e)}return e[f].objectID},m=function(e,t){if(!l(e,f)){if(!b(e))return!0;if(!t)return!1;j(e)}return e[f].weakData},v=function(e){return p&&g&&b(e)&&!l(e,f)&&j(e),e},y=function(){V.enable=function(){},g=!0;var e=i.f,t=a([].splice),o={};o[f]=1,e(o).length&&(i.f=function(o){for(var r=e(o),a=0,c=r.length;a<c;a++)if(r[a]===f){t(r,a,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:d.f}))},V=e.exports={enable:y,fastKey:h,getWeakData:m,onFreeze:v};c[f]=!0},8354:function(e,t,o){"use strict";var r=o("5b46");e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},8825:function(e,t,o){"use strict";var r=o("61db"),a=o("4088"),c=o("192c"),n=o("16ae"),l=o("5b46"),s=r.RegExp,i=s.prototype,d=a&&l((function(){var e=!0;try{s(".","d")}catch(d){e=!1}var t={},o="",r=e?"dgimsy":"gimsy",a=function(e,r){Object.defineProperty(t,e,{get:function(){return o+=r,!0}})},c={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var n in e&&(c.hasIndices="d"),c)a(n,c[n]);var l=Object.getOwnPropertyDescriptor(i,"flags").get.call(t);return l!==r||o!==r}));d&&c(i,"flags",{configurable:!0,get:n})},9914:function(e,t,o){"use strict";var r=o("5b46");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},cc5e:function(e,t,o){"use strict";var r=o("5b46"),a=o("e7ac"),c=o("0d4b"),n=o("8354"),l=Object.isExtensible,s=r((function(){l(1)}));e.exports=s||n?function(e){return!!a(e)&&((!n||"ArrayBuffer"!==c(e))&&(!l||l(e)))}:l},e0e8:function(e,t,o){"use strict";var r=o("0d4b"),a=o("f004"),c=o("e0a5").f,n=o("178c"),l="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return c(e)}catch(t){return n(l)}};e.exports.f=function(e){return l&&"Window"===r(e)?s(e):c(a(e))}}}]);
//# sourceMappingURL=chunk-3e9f4499.da8b9402.js.map