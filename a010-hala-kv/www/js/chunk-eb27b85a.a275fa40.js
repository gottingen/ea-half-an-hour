(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eb27b85a"],{"285d":function(e,t,a){"use strict";a("462b")},"462b":function(e,t,a){},d788:function(e,t,a){"use strict";a.r(t);var o=a("fc6a");const r={class:"setting"};function s(e,t,a,s,c,n){const l=Object(o["resolveComponent"])("el-button"),d=Object(o["resolveComponent"])("el-header"),i=Object(o["resolveComponent"])("CreateDiscovery"),p=Object(o["resolveComponent"])("el-tab-pane"),m=Object(o["resolveComponent"])("RemoveDiscovery"),b=Object(o["resolveComponent"])("ListDiscovery"),u=Object(o["resolveComponent"])("el-tabs"),h=Object(o["resolveComponent"])("el-main"),j=Object(o["resolveComponent"])("el-container");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r,[Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])("当前地址: "+e.$store.state.backendAddr),1),Object(o["createElementVNode"])("p",null,[Object(o["createVNode"])(l,{type:"success",size:"small",onClick:n.callSetting},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("设置")]),_:1},8,["onClick"])])]),_:1}),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(u,{type:"border-card",class:"cardsetting"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(p,{label:"创建应用"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(i,{serverEndpoint:e.$store.state.backendAddr},null,8,["serverEndpoint"])]),_:1}),Object(o["createVNode"])(p,{label:"删除应用"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m,{serverEndpoint:e.$store.state.backendAddr},null,8,["serverEndpoint"])]),_:1}),Object(o["createVNode"])(p,{label:"查询"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(b,{serverEndpoint:e.$store.state.backendAddr},null,8,["serverEndpoint"])]),_:1})]),_:1})]),_:1})]),_:1})])}var c=a("8be6"),n=a.n(c);function l(e,t,a,r,s,c){const n=Object(o["resolveComponent"])("el-tag"),l=Object(o["resolveComponent"])("el-input"),d=Object(o["resolveComponent"])("el-button"),i=Object(o["resolveComponent"])("el-divider");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createElementVNode"])("p",null,[Object(o["createVNode"])(n,{size:"medium"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("应用名")]),_:1}),Object(o["createVNode"])(l,{type:"text",modelValue:s.appName,"onUpdate:modelValue":t[0]||(t[0]=e=>s.appName=e),modelModifiers:{lazy:!0,trim:!0},size:"small",placeholder:"kumo",style:{width:"40%"},clearable:""},null,8,["modelValue"]),Object(o["createVNode"])(d,{type:"success",size:"small",onClick:t[1]||(t[1]=e=>c.appCreate(a.serverEndpoint))},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("创建应用")]),_:1})]),Object(o["createVNode"])(i),Object(o["createElementVNode"])("p",null,[Object(o["createVNode"])(n,{size:"medium"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("集群")]),_:1}),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(s.appName+".")+" ",1),Object(o["createVNode"])(l,{type:"text",modelValue:s.zoneName,"onUpdate:modelValue":t[2]||(t[2]=e=>s.zoneName=e),modelModifiers:{lazy:!0,trim:!0},size:"small",placeholder:"“电信机房-集群”",style:{width:"40%"},clearable:""},null,8,["modelValue"]),Object(o["createVNode"])(d,{type:"success",size:"small",onClick:t[3]||(t[3]=e=>c.zoneCreate(a.serverEndpoint))},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("创建集群")]),_:1})]),Object(o["createElementVNode"])("p",null," 返回值 ： "+Object(o["toDisplayString"])(s.server.code)+" 返回信息： "+Object(o["toDisplayString"])(s.server.msg),1)])}var d={data(){return{appName:"",zoneName:"",server:{code:0,msg:"null"}}},props:{serverEndpoint:{type:String,required:!0}},methods:{appCreate(e){n.a.post("http://"+e+"/ea/discovery/app/create",{app_name:this.appName,quota:0}).then(e=>{this.server.code=e.data.code,this.server.msg=e.data.message,0===this.server.code?this.$notify({message:"创建成功！"+this.server.msg,type:"success"}):this.$notify({message:"创建失败！"+this.server.msg,type:"warning"})}).catch(e=>{this.$notify({message:"连接失败！",type:"error"})})},zoneCreate(e){n.a.post("http://"+e+"/ea/discovery/zone/create",{app_name:this.appName,zone_name:this.zoneName,quota:0}).then(e=>{this.server.code=e.data.code,this.server.msg=e.data.message,0===this.server.code?this.$notify({message:"创建成功！"+this.server.msg,type:"success"}):this.$notify({message:"创建失败！"+this.server.msg,type:"warning"})}).catch(e=>{this.$notify({message:"连接失败！",type:"error"})})}}},i=a("9de4"),p=a.n(i);const m=p()(d,[["render",l]]);var b=m;function u(e,t,a,r,s,c){const n=Object(o["resolveComponent"])("el-tag"),l=Object(o["resolveComponent"])("el-input"),d=Object(o["resolveComponent"])("el-button"),i=Object(o["resolveComponent"])("el-divider");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createElementVNode"])("p",null,[Object(o["createVNode"])(n,{size:"medium"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("应用名")]),_:1}),Object(o["createVNode"])(l,{type:"text",modelValue:s.appName,"onUpdate:modelValue":t[0]||(t[0]=e=>s.appName=e),modelModifiers:{lazy:!0,trim:!0},size:"small",placeholder:"kumo",style:{width:"40%"},clearable:""},null,8,["modelValue"]),Object(o["createVNode"])(d,{type:"success",size:"small",onClick:t[1]||(t[1]=e=>c.appRemove(a.serverEndpoint))},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("删除应用")]),_:1})]),Object(o["createVNode"])(i),Object(o["createElementVNode"])("p",null,[Object(o["createVNode"])(n,{size:"medium"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("集群")]),_:1}),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(s.appName+".")+" ",1),Object(o["createVNode"])(l,{type:"text",modelValue:s.zoneName,"onUpdate:modelValue":t[2]||(t[2]=e=>s.zoneName=e),modelModifiers:{lazy:!0,trim:!0},size:"small",placeholder:"“电信机房-集群”",style:{width:"40%"},clearable:""},null,8,["modelValue"]),Object(o["createVNode"])(d,{type:"success",size:"small",onClick:t[3]||(t[3]=e=>c.zoneRemove(a.serverEndpoint))},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("删除集群")]),_:1})]),Object(o["createElementVNode"])("p",null," 返回值 ： "+Object(o["toDisplayString"])(s.server.code)+" 返回信息： "+Object(o["toDisplayString"])(s.server.msg),1)])}var h={data(){return{appName:"",zoneName:"",server:{code:0,msg:"null"}}},props:{serverEndpoint:{type:String,required:!0}},methods:{appRemove(e){n.a.post("http://"+e+"/ea/discovery/app/remove",{app_name:this.appName,quota:0}).then(e=>{this.server.code=e.data.code,this.server.msg=e.data.message,0===this.server.code?this.$notify({message:"创建成功！"+this.server.msg,type:"success"}):this.$notify({message:"创建失败！"+this.server.msg,type:"warning"})}).catch(e=>{this.$notify({message:"连接失败！",type:"error"})})},zoneRemove(e){n.a.post("http://"+e+"/ea/discovery/zone/remove",{app_name:this.appName,zone_name:this.zoneName,quota:0}).then(e=>{this.server.code=e.data.code,this.server.msg=e.data.message,0===this.server.code?this.$notify({message:"删除成功！"+this.server.msg,type:"success"}):this.$notify({message:"删除失败！"+this.server.msg,type:"warning"})}).catch(e=>{this.$notify({message:"连接失败！",type:"error"})})}}};const j=p()(h,[["render",u]]);var O=j;const v={slot:"header",class:"clearfix"};function y(e,t,a,r,s,c){const n=Object(o["resolveComponent"])("el-tag"),l=Object(o["resolveComponent"])("el-input"),d=Object(o["resolveComponent"])("el-button"),i=Object(o["resolveComponent"])("el-tree"),p=Object(o["resolveComponent"])("el-col"),m=Object(o["resolveComponent"])("el-row");return Object(o["openBlock"])(),Object(o["createBlock"])(m,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(p,{span:24},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",v,[Object(o["createVNode"])(n,null,{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("应用名称")]),_:1}),Object(o["createVNode"])(l,{type:"text",modelValue:s.queryApp,"onUpdate:modelValue":t[0]||(t[0]=e=>s.queryApp=e),modelModifiers:{lazy:!0,trim:!0},placeholder:"app name",clearable:""},null,8,["modelValue"]),Object(o["createVNode"])(d,{type:"success",onClick:t[1]||(t[1]=e=>c.zoneList(a.serverEndpoint))},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("查询")]),_:1}),Object(o["createElementVNode"])("p",null,"返回值 ： "+Object(o["toDisplayString"])(s.server.code),1),Object(o["createElementVNode"])("p",null,"返回信息： "+Object(o["toDisplayString"])(s.server.msg),1),Object(o["createElementVNode"])("p",null,"配置列表： "+Object(o["toDisplayString"])(s.total),1)]),Object(o["createVNode"])(i,{data:s.appList,props:s.defaultProps,onNodeClick:c.handleNodeClick},null,8,["data","props","onNodeClick"])]),_:1})]),_:1})}a("cdf1");var N={data(){return{queryApp:"",queryConfigContent:"",currentPage:1,loading:!1,pagesize:5,total:0,configArray:[],appList:[],defaultProps:{children:"children",label:"label"},server:{code:0,msg:"null"}}},props:{serverEndpoint:{type:String,required:!0}},methods:{zoneList(e){let t={};""!==this.queryApp&&(t={app_name:this.queryApp}),n.a.post("http://"+e+"/ea/discovery/zone/list",t).then(e=>{if(this.server.code=e.data.code,this.server.msg=e.data.message,"zones"in e.data){let t=new Map;for(let a=0;a<e.data.zones.length;a++){let o=e.data.zones[a];t.has(o.app_name)?t.get(o.app_name).children.push({label:o.zone_name}):t.set(o.app_name,{children:[{label:o.zone_name,level:1}]})}this.appList=[],t.forEach((e,t)=>{this.appList.push({label:t,level:0,children:e.children})})}else this.appList=[],this.total=0})},copyText(e,t,a,o){let r=function(e){e.clipboardData.setData("text/plain",o.target.innerText),e.preventDefault()};document.addEventListener("copy",r),document.execCommand("copy"),this.$notify({message:"恭喜你，复制成功！"+o.target.innerText,type:"success"})},current_change(e){this.currentPage=e},handleNodeClick(e,t){let a=e.label;1===e.level&&(a=t.parent.data.label+"."+e.label),this.$message(a)}}};const g=p()(N,[["render",y]]);var V=g,C={components:{CreateDiscovery:b,RemoveDiscovery:O,ListDiscovery:V},data(){return{serverEndpoint:"localhost:8018",labelType:!0,testResult:"失败",buttonType:"danger"}},methods:{callSetting(){this.$emit("api",{event:"openApp",app:"system_setting"})}},created(){}};a("285d");const f=p()(C,[["render",s],["__scopeId","data-v-1c2c9aec"]]);t["default"]=f}}]);
//# sourceMappingURL=chunk-eb27b85a.a275fa40.js.map